package org.fh.general.ecom.basics.service.impl;

import com.baomidou.mybatisplus.service.impl.ServiceImpl;
import org.fh.general.ecom.basics.dao.GuideArticleDao;
import org.fh.general.ecom.basics.model.GuideArticle;
import org.fh.general.ecom.basics.service.GuideArticleService;
import org.fh.general.ecom.common.dto.basics.help.GuideArticle.GuideArticleInputDTO;
import org.fh.general.ecom.common.dto.basics.help.GuideArticle.GuideArticleOutputDTO;
import org.fh.general.ecom.common.enums.ComEnum;
import org.fh.general.ecom.common.enums.OutEnum;
import org.fh.general.ecom.common.utils.StringUtils;
import org.springframework.beans.BeanUtils;
import org.springframework.stereotype.Service;

/**
 * <p>
 *  服务实现类
 * </p>
 *
 * @author wyy
 * @since 2018-09-21
 */
@Service
public class GuideArticleServiceImpl extends ServiceImpl<GuideArticleDao, GuideArticle> implements GuideArticleService {

    @Override
    public GuideArticleOutputDTO selectByPrimaryKey(Long id) {
        GuideArticleOutputDTO entity2=new GuideArticleOutputDTO();
        GuideArticle entity=baseMapper.selectById(id);
        if(StringUtils.isNotEmpty(entity)){
            BeanUtils.copyProperties(entity,entity2);
       }
        return entity2;
    }

    @Override
    public String insertUserGuide(GuideArticleInputDTO dto) {
        GuideArticle entity =new GuideArticle();
        BeanUtils.copyProperties(dto,entity);
        baseMapper.insert(entity);
        return OutEnum.SUCCESS.getCode();
    }

    @Override
    public String updateGuideArticle(GuideArticleInputDTO dto) {
        GuideArticle entity =new GuideArticle();
        BeanUtils.copyProperties(dto,entity);
        baseMapper.updateById(entity);
        return OutEnum.SUCCESS.getCode();
    }

    @Override
    public String deleteByPrimaryKey(Long id) {
        GuideArticle entity=baseMapper.selectById(id);
        entity.setDel(ComEnum.IsDelete.DEL.getValue());
        baseMapper.updateById(entity);
        return OutEnum.SUCCESS.getCode();
    }

    @Override
    public String updatePublish(Long id) {
        GuideArticle entity=baseMapper.selectById(id);
        entity.setPublished(ComEnum.published.OREADY.getValue());
        baseMapper.updateById(entity);
        return OutEnum.SUCCESS.getCode();
    }
}
